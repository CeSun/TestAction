name: Build Nuget Packages

on:
  push:
    branches: [ main, 'v[0-9].**' ]
  pull_request:
    branches: [ main, 'v[0-9].**' ]

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
    - name: download llvm
      uses: wei/wget@v1
      with:
        args: -O clang.tar.xz https://github.com/llvm/llvm-project/releases/download/llvmorg-20.1.0/clang+llvm-20.1.0-x86_64-pc-windows-msvc.tar.xz ./clang
    
    - name: unzip llvm
      uses: developerdino/action-tar@v1
      with:
        args: tar -xvf  clang.tar.xz
        
    - name: download zig
      uses: wei/wget@v1
      with:
        args: -O zig.zip https://ziglang.org/builds/zig-windows-x86_64-0.15.0-dev.379+ffd85ffcd.zip
    - name: unzip zig
      uses: somaz94/compress-decompress@v1
      with:
        command: decompress
        source: ./zig.zip
        format: zip
        dest: './zig'
